<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>BrowserCMS Developer Guide</title>
    <style type="text/css">
      body {
        background: #FFFFFF url(images/bg.png) repeat-x scroll 0 0;
        font-family: "Trebuchet MS", Helvetica, Verdana, Arial, sans-serif;
        margin: 0;
        padding: 0;
      }
  
      #page {
        margin: 0 auto;
        text-align: left;
        width: 1000px;
      }
  
      #header {
        height: 110px;
      }
  
      div.top_cap {
        background: transparent url(images/top_cap.png) no-repeat scroll 0 0;
        height: 10px;
      }    
  
      #contentwrap {
        background: transparent url(images/dot.png) repeat scroll 0 0;
        float: left;
        width: 1000px;
      }
      
      div.bottom_cap {
        background: transparent url(images/bottom_cap.png) no-repeat scroll 0 0;
        height: 9px;
      }

      div.top_cap_content {
        background: transparent url(images/top_cap_content.png) no-repeat scroll 0 0;
        height: 5px;
      }
  
      #content {
        background-color: #FFFFFF;
        margin: 0 5px;
      }
  
      div.title {
        padding: 20px;
      }
  
      div.title h1 {
        border-bottom: 3px solid #505358;
        color: #FFFFFF;
        font-size: 24pt;
        font-weight: normal;
        line-height: 1;
        margin: 0 0 10px;
        padding-bottom: 10px;
      }
      
      td.sidebar {
        font-size: 8pt;
        width: 165px;
        padding: 5px;
      }
      
      td.sidebar ol {
        margin-left: 20px;
        padding: 0;
        line-height: 1.5;
      }
      
      td.sidebar ol li {
        margin: 0;
        padding: 0;
      }
      
      td.sidebar ol li ul {
        list-style-type: none;
        padding-left: 10px;
      }
      
      td.guides {
        font-size: 10pt;
        width: 800px;
        padding: 10px;
      }
      
      pre {
        padding: 10px;
        background: #eee;
        border: 1px solid #ccc;
        overflow: auto;
      }
      
    </style>
  </head>
  <body>
    <div id="page">
      <div id="header">
        <img src="images/browsercms_logo.png" alt="BrowserCMS"/>
      </div>
      <div id="main">
        <div class="top_cap"></div>
        <div id="contentwrap">
          <div class="title">
            <h1>BrowserCMS Developer Guide</h1>
          </div>
          <div class="top_cap_content"></div>
          <div id="content">
            <table width="100%" cellpadding="0" cellspacing="0" border="0">
              <tr>                
                
                  <td class="sidebar" valign="top">
                    <h2>Chapters</h2>
                    <ol>
                          <li>
                            <a href="#_introduction">Introduction</a>
                          </li>
                          <li>
                            <a href="#_content_blocks">Content Blocks</a>
                          </li>
                    </ol>
                  </td>
                
                <td class="guides">
                  
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph"><p>This guide covers how to use the tools that come with BrowserCMS to extend the functionality of your BrowserCMS site.  This guide will cover:</p></div>
<div class="ulist"><ul>
<li>
<p>
What content blocks and portlets are and how they work
</p>
</li>
<li>
<p>
How to create custom content blocks
</p>
</li>
<li>
<p>
How to create custom portlets
</p>
</li>
<li>
<p>
How to create custom page templates
</p>
</li>
<li>
<p>
How to create custom page partials
</p>
</li>
<li>
<p>
How to install and use BrowserCMS modules
</p>
</li>
<li>
<p>
How to create friendly URLs for pages
</p>
</li>
</ul></div>
</div>
<h2 id="_content_blocks">2. Content Blocks</h2>
<div class="sectionbody">
<div class="paragraph"><p>Content Blocks are the basic unit used to add content to pages in a BrowserCMS site.  There are several pre-built content types that are part of BrowserCMS core.  The most commonly used one is the HtmlBlock content type, so we will use that as a starting example.</p></div>
<div class="paragraph"><p>If you look at the HtmlBlock model in BrowserCMS core, you will see that it is an ActiveRecord model, just like any model you create in a Rails application.  It also calls the acts_as_content_block method, which just sets up several <a href="/doc/app/classes/Cms/Behaviors.html">Behaviors</a> on the model.  One of the key Behaviors to understand is the <a href="/doc/app/classes/Cms/Behaviors/Rendering.html">Rendering</a> behavior.  Essentially what this behavior does is to allow your model to act as a mini-controller.  This is the same thing conceptually as <a href="http://yehudakatz.com/2007/09/06/merbs-parts-are-pretty-rocking-too/">Merb Parts</a> or <a href="http://cells.rubyforge.org">Rails Cells</a>.</p></div>
<div class="paragraph"><p>In the BrowserCMS implementation, first the render method of the object is called, which is like an action.  This is where instance variables are set.  In the case of an HtmlBlock, there are no other instance variables to set up, so this step is just skipped.  It is similar to a controller action that has no action method, it just goes straight to the view.</p></div>
<div class="paragraph"><p>The view is the render template, which is inside the cms/html_blocks directory in the view path.  If you look in the render template, you will see all it does is print the value of @content_block.content.  Content is the name of the property that holds the HTML content.</p></div>
</div>

                </td>
              </tr>
            </table>
          </div>
        </div>
        <br clear="all"/>
        <div class="bottom_cap"></div>
      </div>
    </div>
  </body>
</html>
